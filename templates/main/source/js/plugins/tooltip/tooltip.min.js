!function(t,e,s){"use strict";var o,i,a,n,r,l,h,g,f,d,c=/Android|iPhone|iPad|iPod|BlackBerry|WPDesktop|IEMobile|Opera Mini/i.test(navigator.userAgent)?"touchend":"mouseup",p=function(t,e,s){var o,i;for(i in o=document.createElement(t),e)e.hasOwnProperty(i)&&o.setAttribute(i,e[i]);return s&&s.appendChild(o),o};o=function(t,e,s){t.style.right="";var o=s.right+s.width/2-t.offsetWidth/2;if(o<0||document.body.offsetWidth<=t.offsetWidth)return o=0,e.style.right=s.right+s.width/2+"px",void(t.style.right="0px");e.style.right=s.right-o+s.width/2+"px",t.style.right=o+"px"},i=function(t,e,s,i){e.className=s.mainClassName+"__arrow "+s.mainClassName+"__arrow_bottom",o(t,e,i),t.style.top=window.pageYOffset+i.top-t.offsetHeight-s.offset+"px"},a=function(t,e,s,i){e.className=s.mainClassName+"__arrow "+s.mainClassName+"__arrow_top",o(t,e,i),t.style.top=window.pageYOffset+i.top+i.height+s.offset+"px"},n=function(t,e,s,o){e.className=s.mainClassName+"__arrow "+s.mainClassName+"__arrow_right",h(t,e,s,o)&&(t.style.top=window.pageYOffset+o.top+o.height/2-t.offsetHeight/2+"px")},r=function(t,e,s,o){e.className=s.mainClassName+"__arrow "+s.mainClassName+"__arrow_left",l(t,e,s,o)&&(t.style.top=window.pageYOffset+o.top+o.height/2-t.offsetHeight/2+"px")},l=function(t,e,s,o){t.style.right="";var n=o.right-t.offsetWidth-s.offset;return n<0&&(n=o.right+o.width+s.offset,e.className=s.mainClassName+"__arrow "+s.mainClassName+"__arrow_right"),o.width+t.offsetWidth>=document.body.clientWidth?(o.top-s.offset-t.offsetHeight>0?i(t,e,s,o):a(t,e,s,o),!1):(t.style.right=n+"px",!0)},h=function(t,e,s,o){var n;return t.style.right="",n=o.right+o.width+s.offset,e.className=s.mainClassName+"__arrow "+s.mainClassName+"__arrow_right",o.width+t.offsetWidth>=document.body.clientWidth?(o.top-s.offset-t.offsetHeight>0?i(t,e,s,o):a(t,e,s,o),!1):(t.style.right=n+"px",!0)},g=function(t,e,s,o){var l,h={top:(l=t.getBoundingClientRect()).top,left:l.left,right:document.body.offsetWidth-l.right,bottom:window.innerHeight-l.bottom,width:l.width,height:l.height};s.style.cssText="","right"!==o.position?"left"!==o.position?"top"!==o.position?"bottom"!==o.position||(h.top+h.height+o.offset+e.offsetHeight<window.innerHeight?a(e,s,o,h):i(e,s,o,h)):h.top-o.offset-e.offsetHeight>0?i(e,s,o,h):h.top-o.offset+e.offsetHeight+t.offsetHeight>document.body.scrollHeight-window.pageYOffset?i(e,s,o,h):a(e,s,o,h):n(e,s,o,h):r(e,s,o,h)},(f=function(t){this.values={},this.values.triggerClose=!1,this.values.mainClassName=t,this.tags={},this.tags.tooltip=p("div",{class:t}),this.tags.tooltip__arrow=p("div",{class:t+"__arrow"},this.tags.tooltip),this.tags.tooltip__section=p("div",{class:t+"__section"},this.tags.tooltip),this.tags.tooltip__close=p("div",{class:t+"__close"},this.tags.tooltip__section),this.tags.tooltip__text=p("div",{class:t+"__text"},this.tags.tooltip__section)}).prototype={constructor:f,init:function(t,e){return t?(this.tags.element=t,e=e||{},this.opts=function(t,e){var s;for(s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);return t}({modClass:"",offset:5,close:!0,position:"top"},e),this.opts.mainClassName=this.values.mainClassName,this.events(),this):this},events:function(){var t=this;t.opts.close?t.tags.tooltip__close.style.display="block":t.tags.tooltip__close.style.display="none",this.tags.tooltip__close.addEventListener(c,function(e){e.stopPropagation(),t.close()})},html:function(t){return this.tags.element?(this.tags.tooltip__text.innerHTML=t,this):this},show:function(){if(!this.tags.element)return this;var t=this,e=this.tags.tooltip__text.querySelectorAll("img"),s=function(){this.opts.modClass&&this.tags.tooltip.classList.add(this.opts.modClass),document.body.insertBefore(this.tags.tooltip,document.body.firstChild),g(this.tags.element,this.tags.tooltip,this.tags.tooltip__arrow,this.opts),window.addEventListener("resize",function(){g(t.tags.element,t.tags.tooltip,t.tags.tooltip__arrow,t.opts)}),setTimeout(function(){t.tags.tooltip.classList.add("active")},10),this.values.triggerClose=!0};return e.length?$(e).on("load",function(){s.call(t)}):s.call(t),this},updatePosition:function(){return this.tags.element?(g(this.tags.element,this.tags.tooltip,this.tags.tooltip__arrow,this.opts),this):this},close:function(){if(!this.tags.element)return this;var t=this;return this.values.triggerClose?(this.tags.tooltip.classList.remove("active"),setTimeout(function(){t.opts.modClass&&t.tags.tooltip.classList.remove(t.opts.modClass),document.body.removeChild(t.tags.tooltip)},200),this.values.triggerClose=!1,this):void 0}},t.Tooltip=f,d=function(){var t,e;e=new f("tooltip"),document.body.addEventListener("mouseenter",function(o){o.target.matches(s)&&(t=setTimeout(function(){var t={modClass:o.target.getAttribute("data-modclass")||"",position:o.target.getAttribute("data-pos")||"top",event:o.target.getAttribute("data-event")||"hover",offset:parseInt(o.target.getAttribute("data-offset"))||5,close:!1};"hover"===t.event&&e.init(o.target,t).html(o.target.getAttribute("data-text")).show()},300))},!0),document.body.addEventListener("mouseleave",function(o){o.target.matches(s)&&(clearTimeout(t),"hover"!==o.target.getAttribute("data-event")&&o.target.getAttribute("data-event")||e.close())},!0),document.body.addEventListener(c,function(t){if(t.target.matches(s)){if(t.preventDefault(),"click"===t.target.getAttribute("data-event")||"touchend"===c){var o={modClass:t.target.getAttribute("data-modclass")||"",position:t.target.getAttribute("data-pos")||"top",offset:parseInt(t.target.getAttribute("data-offset"))||5,close:!0};e.init(t.target,o).html(t.target.getAttribute("data-text")).show()}}else e.close()},!0)},document.addEventListener("DOMContentLoaded",d)}(window,0,"[data-tooltip]");